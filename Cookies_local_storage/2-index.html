<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewpoint" content="width=device-width, initial-scale=1.0">
  <title>Cookies Project</title>

  <style>
    body{
        margin-top:10%;
    }

    hi{
        font-family: 'sans-serif';
        font-weight: bold;
        font-size: 3rem;
    }

    input {
        padding: 10px;
    }

    .input-group {
        position: relative;
    }

  </style>
</head>
<body>
    <h1>Login to the website</h1>
    <div class="hero">
        <form>
            <div class="input-group">
                <input id="FirstName" type="text" placeholder="Firstname" name="fName" required>
                <input id="EmailLead" type="text" placeholder="email" name="email" required>
                <button onclick="setCookies()">Log me in</button>
            </div>
        </form>
    </div>
    <h1>Cookies</h1>
    <button onclick="showCookies()">Show the cookies</button>

    <!-- javascripting here -->
    <script>

        function setCookies() {
            var fNameValue = document.getElementById('FirstName').value;
            var emailValue = document.getElementById('EmailLead').value;

            // Setting cookies with expiration in 10 days
            var expirationDate = new Date();
            expirationDate.setDate(expirationDate.getDate() + 10);
            var expirationDate = new Date();
            expirationDate.setDate(expirationDate.getDate() + 10);

            document.cookie = 'FirstName=' + fNameValue.value + '; expires:' + expirationDate.toUTCString();
            document.cookie = 'EmailLead=' + emailValue.value + '; expires:' + expirationDate.toUTCString();

            // alert('Cookies set successfully!.');
        }

        function getCookie(name) {
            var cookies = document.cookie.split(';');

            for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i].trim().split('=');
                if (cookie[0] === name) {
                    return cookie[1];
                }
            }
            return "";
        }

        function showCookies () {
            var emailValue = getCookie("EmailLead");
            var firstnameValue = getCookie("FirstName");

            var para = document.createElement('p')

            // to retrieve cookies
            var cookies = document.cookie.split(';');
            var cookiesText = "Cookies: ";
            
            // to display cookies

            // for (var i = 0; i < cookies.length; i++) {
            //     cookiesText += cookies[i].trim() + ', ';
            // }

            Para.innerHTML = "Email: " + emailValue + " - Firstname: " + firstnameValue;

            // Setting the inner HTML with the value of the cookies
            // para.innerHTML = cookiesText.slice(0, -2);

            // Appending the paragraph at the bottom of the page
            document.body.appendChild(para);
        }

    </script>
</body>
</html>
